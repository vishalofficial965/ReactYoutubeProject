{"ast":null,"code":"import _slicedToArray from \"C:/Users/vishal/Pictures/buffer/project_youtube/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Gets the current state. If the selectedValue is controlled,\n * the `value` prop is the source of truth instead of the internal state.\n */\n\nfunction getControlledState(internalState, props) {\n  if (props.value !== undefined) {\n    return _extends({}, internalState, {\n      selectedValue: props.value\n    });\n  }\n  return internalState;\n}\nfunction areOptionsEqual(option1, option2, optionComparer) {\n  if (option1 === option2) {\n    return true;\n  }\n  if (option1 === null || option2 === null) {\n    return false;\n  }\n  return optionComparer(option1, option2);\n}\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\nfunction useStateChangeDetection(nextState, internalPreviousState, propsRef) {\n  React.useEffect(function () {\n    if (!propsRef.current) {\n      return;\n    }\n    var previousState = getControlledState(internalPreviousState, propsRef.current);\n    var _propsRef$current2 = propsRef.current,\n      multiple = _propsRef$current2.multiple,\n      optionComparer = _propsRef$current2.optionComparer;\n    if (multiple) {\n      var _previousState$select;\n      var previousSelectedValues = (_previousState$select = previousState == null ? void 0 : previousState.selectedValue) != null ? _previousState$select : [];\n      var nextSelectedValues = nextState.selectedValue;\n      var onChange = propsRef.current.onChange;\n      if (!areArraysEqual(nextSelectedValues, previousSelectedValues, optionComparer)) {\n        onChange == null ? void 0 : onChange(nextSelectedValues);\n      }\n    } else {\n      var previousSelectedValue = previousState == null ? void 0 : previousState.selectedValue;\n      var nextSelectedValue = nextState.selectedValue;\n      var _onChange = propsRef.current.onChange;\n      if (!areOptionsEqual(nextSelectedValue, previousSelectedValue, optionComparer)) {\n        _onChange == null ? void 0 : _onChange(nextSelectedValue);\n      }\n    }\n  }, [nextState.selectedValue, internalPreviousState, propsRef]);\n  React.useEffect(function () {\n    if (!propsRef.current) {\n      return;\n    } // Fires the highlightChange event when reducer returns changed `highlightedValue`.\n\n    if (!areOptionsEqual(internalPreviousState.highlightedValue, nextState.highlightedValue, propsRef.current.optionComparer)) {\n      var _propsRef$current, _propsRef$current$onH;\n      (_propsRef$current = propsRef.current) == null ? void 0 : (_propsRef$current$onH = _propsRef$current.onHighlightChange) == null ? void 0 : _propsRef$current$onH.call(_propsRef$current, nextState.highlightedValue);\n    }\n  }, [nextState.highlightedValue, internalPreviousState.highlightedValue, propsRef]);\n}\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var _ref;\n  var value = props.value,\n    defaultValue = props.defaultValue;\n  var propsRef = React.useRef(props);\n  propsRef.current = props;\n  var initialSelectedValue = (_ref = value === undefined ? defaultValue : value) != null ? _ref : props.multiple ? [] : null;\n  var initalState = {\n    highlightedValue: null,\n    selectedValue: initialSelectedValue\n  };\n  var combinedReducer = React.useCallback(function (state, action) {\n    if (externalReducer) {\n      return externalReducer(getControlledState(state, propsRef.current), action);\n    }\n    return internalReducer(getControlledState(state, propsRef.current), action);\n  }, [externalReducer, internalReducer, propsRef]);\n  var _React$useReducer = React.useReducer(combinedReducer, initalState),\n    _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n    nextState = _React$useReducer2[0],\n    dispatch = _React$useReducer2[1];\n  var previousState = React.useRef(initalState);\n  React.useEffect(function () {\n    previousState.current = nextState;\n  }, [previousState, nextState]);\n  useStateChangeDetection(nextState, previousState.current, propsRef);\n  return [getControlledState(nextState, propsRef.current), dispatch];\n}","map":{"version":3,"names":["_extends","React","areArraysEqual","getControlledState","internalState","props","value","undefined","selectedValue","areOptionsEqual","option1","option2","optionComparer","useStateChangeDetection","nextState","internalPreviousState","propsRef","useEffect","current","previousState","_propsRef$current2","multiple","_previousState$select","previousSelectedValues","nextSelectedValues","onChange","previousSelectedValue","nextSelectedValue","highlightedValue","_propsRef$current","_propsRef$current$onH","onHighlightChange","call","useControllableReducer","internalReducer","externalReducer","_ref","defaultValue","useRef","initialSelectedValue","initalState","combinedReducer","useCallback","state","action","_React$useReducer","useReducer","_React$useReducer2","_slicedToArray","dispatch"],"sources":["C:/Users/vishal/Pictures/buffer/project_youtube/node_modules/@mui/base/ListboxUnstyled/useControllableReducer.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Gets the current state. If the selectedValue is controlled,\n * the `value` prop is the source of truth instead of the internal state.\n */\n\nfunction getControlledState(internalState, props) {\n  if (props.value !== undefined) {\n    return _extends({}, internalState, {\n      selectedValue: props.value\n    });\n  }\n\n  return internalState;\n}\n\nfunction areOptionsEqual(option1, option2, optionComparer) {\n  if (option1 === option2) {\n    return true;\n  }\n\n  if (option1 === null || option2 === null) {\n    return false;\n  }\n\n  return optionComparer(option1, option2);\n}\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\n\nfunction useStateChangeDetection(nextState, internalPreviousState, propsRef) {\n  React.useEffect(() => {\n    if (!propsRef.current) {\n      return;\n    }\n\n    const previousState = getControlledState(internalPreviousState, propsRef.current);\n    const {\n      multiple,\n      optionComparer\n    } = propsRef.current;\n\n    if (multiple) {\n      var _previousState$select;\n\n      const previousSelectedValues = (_previousState$select = previousState == null ? void 0 : previousState.selectedValue) != null ? _previousState$select : [];\n      const nextSelectedValues = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areArraysEqual(nextSelectedValues, previousSelectedValues, optionComparer)) {\n        onChange == null ? void 0 : onChange(nextSelectedValues);\n      }\n    } else {\n      const previousSelectedValue = previousState == null ? void 0 : previousState.selectedValue;\n      const nextSelectedValue = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areOptionsEqual(nextSelectedValue, previousSelectedValue, optionComparer)) {\n        onChange == null ? void 0 : onChange(nextSelectedValue);\n      }\n    }\n  }, [nextState.selectedValue, internalPreviousState, propsRef]);\n  React.useEffect(() => {\n    if (!propsRef.current) {\n      return;\n    } // Fires the highlightChange event when reducer returns changed `highlightedValue`.\n\n\n    if (!areOptionsEqual(internalPreviousState.highlightedValue, nextState.highlightedValue, propsRef.current.optionComparer)) {\n      var _propsRef$current, _propsRef$current$onH;\n\n      (_propsRef$current = propsRef.current) == null ? void 0 : (_propsRef$current$onH = _propsRef$current.onHighlightChange) == null ? void 0 : _propsRef$current$onH.call(_propsRef$current, nextState.highlightedValue);\n    }\n  }, [nextState.highlightedValue, internalPreviousState.highlightedValue, propsRef]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var _ref;\n\n  const {\n    value,\n    defaultValue\n  } = props;\n  const propsRef = React.useRef(props);\n  propsRef.current = props;\n  const initialSelectedValue = (_ref = value === undefined ? defaultValue : value) != null ? _ref : props.multiple ? [] : null;\n  const initalState = {\n    highlightedValue: null,\n    selectedValue: initialSelectedValue\n  };\n  const combinedReducer = React.useCallback((state, action) => {\n    if (externalReducer) {\n      return externalReducer(getControlledState(state, propsRef.current), action);\n    }\n\n    return internalReducer(getControlledState(state, propsRef.current), action);\n  }, [externalReducer, internalReducer, propsRef]);\n  const [nextState, dispatch] = React.useReducer(combinedReducer, initalState);\n  const previousState = React.useRef(initalState);\n  React.useEffect(() => {\n    previousState.current = nextState;\n  }, [previousState, nextState]);\n  useStateChangeDetection(nextState, previousState.current, propsRef);\n  return [getControlledState(nextState, propsRef.current), dispatch];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}